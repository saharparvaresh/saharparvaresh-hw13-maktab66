<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="jquery-3.6.0.min.js"></script>

    <script>
        $(document).ready(function () {
            let lengthTotalTR = 0;
            let lengthNotConfirmTR = [];
            let currentRadioIndex = 1;
            let plusRadioIndex = 0;

            $(".add").click(function () {
                plusRadioIndex += currentRadioIndex;
                $(".tbodyadd").prepend(`<tr>
                <th scope="row ">
                    <button type="button " class="delete btn btn-success " style="background:red ; width: 50px; height: 30px; font-size:10px ">delet</button>
                    <button type="button " class="clone btn btn-success " style="background:rgb(21, 4, 61) ; width: 50px; height: 30px; font-size:10px ">clone</button>

                    <td>
                        <input type="text ">
                    </td>
                    <td> <input type="text ">
                    </td>
                    <td>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="inlineRadioOptions${plusRadioIndex}" value="new">
                            <label class="form-check-label">New</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="inlineRadioOptions${plusRadioIndex}" value="in_progres">
                            <label class="form-check-label">in progres </label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="inlineRadioOptions${plusRadioIndex}" value="confirmed">
                            <label class="form-check-label">confirmed </label>
                        </div>
                    </td>
            </tr>`)
                lengthTotalTR = $(".tbodyadd")[0].children.length;
            })

            $(".tbodyadd").click(function (e) {
                if (e.target.className.match("delete")) {
                    e.target.parentElement.parentElement.remove()
                    lengthTotalTR = $(".tbodyadd")[0].children.length;
                }
            })

            $(".tbodyadd").click(function (e) {
                if (e.target.value === "confirmed" && e.target.checked) {
                    e.target.parentElement.parentElement.parentElement.children[1].children[0].setAttribute("disabled", true);
                    e.target.parentElement.parentElement.parentElement.children[2].children[0].setAttribute("disabled", true);
                    e.target.parentElement.parentElement.parentElement.classList.add("confirmed");
                    
                }
            })

            $(".tbodyadd").click(function (e) {
                if (e.target.className.match("clone")) {
                    plusRadioIndex += currentRadioIndex;
                    let val1 = e.target.parentElement.parentElement.children[1].children[0].value
                    let val2 = e.target.parentElement.parentElement.children[2].children[0].value
                    $(".tbodyadd").append(`
                    <tr>
                <th scope="row ">
                    <button type="button " class="delete btn btn-success " style="background:red ; width: 50px; height: 30px; font-size:10px ">delet</button>
                    <button type="button " class="clone btn btn-success " style="background:rgb(21, 4, 61) ; width: 50px; height: 30px; font-size:10px ">clone</button>

                    <td>
                        <input type="text ">
                    </td>
                    <td> <input type="text ">
                    </td>
                    <td>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="inlineRadioOptions${plusRadioIndex}" value="new">
                            <label class="form-check-label">New</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="inlineRadioOptions${plusRadioIndex}" value="in_progres">
                            <label class="form-check-label">in progres </label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="inlineRadioOptions${plusRadioIndex}" value="confirmed">
                            <label class="form-check-label">confirmed </label>
                        </div>
                    </td>
            </tr>`)
                    lengthTotalTR = $(".tbodyadd")[0].children.length;
                }

            })

            $(".add , .tbodyadd").click(function () {
                $(".numtotalTR").html(lengthTotalTR);
                for (const confirmChild of $(".tbodyadd")[0].children) {
                    if (confirmChild.className !== "confirmed") {
                        lengthNotConfirmTR.push(confirmChild);
                    }
                }
                $(".numnotconfirmedTR").html(lengthNotConfirmTR.length);
                lengthNotConfirmTR = [];
            })
        })

    </script>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title></title>
</head>

<body>
    <button type="button" class="add btn btn-success">addRow</button>
    <table class="table table-bordered" class="table table-condensed">
        <thead>
            <tr class="table-primary" class="table-sm ">

                <th scope=" col ">action</th>
                <th scope=" col ">Number</th>
                <th scope="col ">type</th>
                <th scope="col ">stutus</th>
            </tr>
        </thead>
        <tbody class="tbodyadd">
            
        </tbody>
        <tfoot>
            <tr>
                <td colspan="2" class="totalTR">total : <span class="numtotalTR">0</span></td>
                <td colspan="2" class="notconfirmedTR">notconfirmed : <span class="numnotconfirmedTR">0</span></td>
            </tr>
        </tfoot>
    </table>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js "
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p "
        crossorigin="anonymous "></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js "
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB "
        crossorigin="anonymous "></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js "
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13 "
        crossorigin="anonymous "></script>

</body>

</html>